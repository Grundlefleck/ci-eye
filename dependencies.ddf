show allResults

{package} = org.netmelody.cieye
[ci-eye] = ${package}.*
check sets [ci-eye]

[core] = ${package}.core.*
[domain] = ${package}.core.domain.*
[non-core] = [ci-eye] excluding [core]
check sets [core] [domain] [non-core]
check [core] independentOf [ci-eye]
check [domain] independentOf [ci-eye]

[spies] = ${package}.spies.*
check sets [spies]
check [spies] independentOf [non-core]

[server] = ${package}.server.*
check sets [server]
check [server] independentOf [non-core]

[configuration] = ${package}.server.observation.*
[observation] = ${package}.server.observation.*
[response] = ${package}.server.observation.*
check sets [configuration] [observation] [response]
check [configuration] independentOf [non-core]
check [observation] independentOf [non-core]
check [response] independentOf [non-core]

check absenceOfPackageCycles > 1 in [ci-eye]

layer foundations = [core]
layer webserver = [configuration] [observation] [response]
layer spynetwork = ${package}.spies.demo.* ${package}.spies.jenkins.* ${package}.spies.teamcity.*

check strictLayeringOf foundations webserver
check strictLayeringOf foundations spynetwork